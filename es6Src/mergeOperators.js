/**
 * åˆå¹¶æ“ä½œç¬¦ï¼šå°†å¤šä¸ªObservableåˆå¹¶åˆ°ä¸€èµ·çš„æ“ä½œç¬¦ï¼ŒçŠ¹å¦‚ä¼—å¤šå°æºªæ±‡å…¥æ±Ÿæ²³
 *    concatï¼šé¦–å°¾åˆå¹¶
 *    concatAllï¼šé«˜é˜¶Observableçš„é¦–å°¾åˆå¹¶
 *    mergeï¼šæŒ‰å‡ºçŽ°æ—¶é—´å…ˆåŽåˆå¹¶
 *    mergeAllï¼š~
 *    zipï¼šæ‹‰é“¾ä¸€æ ·ä¸€ä¸€å¯¹åº”åˆå¹¶
 *    zipAllï¼š~
 *    combineLatestï¼šåˆå¹¶æœ€æ–°å‡ºçŽ°çš„å€¼
 *    combineAllï¼š~
 *    withLatestFromï¼šç”±ä¸€ä¸ªä¸»ObservableæŽ§åˆ¶åå‡ºå€¼ï¼Œè¢«åˆå¹¶çš„Observableåªè´¡çŒ®å€¼ï¼ˆè´¡çŒ®æœ€æ–°å‡ºçŽ°çš„ï¼‰
 *    raceï¼šç«žé€Ÿï¼Œèµ¢è€…é€šåƒ
 *    startWithï¼šåŒæ­¥åŠ å¡žä¸€äº›å€¼
 *    forkJoinï¼šRxJSç•Œçš„Promise.allï¼Œåˆå¹¶ä¸€ç»„Observableæœ€ç»ˆäº§å‡ºçš„å€¼
 *    switchï¼šåˆ‡æ¢åˆ°æœ€æ–°çš„å†…éƒ¨Observable
 *    exhaustï¼šåœ¨ä¸Šä¸€ä¸ªè¢«è®¢é˜…çš„Observableå®Œç»“å‰å¯¹æ–°å‡ºçŽ°çš„Observableç½®ä¹‹ä¸ç†
 */
import {outilObserver} from './outilObserver'
import {
  oaOf$,
  oaInterval$
} from './creatOperators'
import { 
  map,
  concat,
  withLatestFrom,
  startWith,
  take,
  concatAll,
  mergeAll,
  zipAll,
  combineAll,
  switchAll,
  exhaust
} from 'rxjs/operators'
import { interval, never, merge, zip, combineLatest, timer, race, forkJoin, of } from 'rxjs'
// import {concat} from 'rxjs/observable/concat'

/**
 * 1ã€concatï¼šæœ€ç®€å•çš„åˆå¹¶ï¼Œå³é¦–å°¾åˆå¹¶ï¼Œæœ‰é™æ€ä¹Ÿæœ‰å®žä¾‹æ“ä½œç¬¦
 * of$: (1ã€xzxã€2)|->
 * interval: ----0----1----2|->
 * concat: (1ã€xzxã€2)----0----1----2|->
 */
var oaConcat$ = oaOf$.pipe(concat(oaInterval$))
// var oaConcat$ = concat(oaOf$, oaInterval$) // é™æ€æ–¹æ³•
// oaConcat$.subscribe(outilObserver) 

/**
 * 2ã€mergeï¼šå…ˆåˆ°å…ˆå¾—ï¼Œå¿«é€Ÿé€šè¿‡ã€‚
 *    mergeä¼šç¬¬ä¸€æ—¶é—´è®¢é˜…ä¸Šæ¸¸æ‰€æœ‰çš„Observableï¼Œç„¶åŽå¯¹ä¸Šæ¸¸æ•°æ®é‡‡å–å…ˆåˆ°å…ˆå¾—ç­–ç•¥ï¼Œï¼ï¼ï¼â€œåªè¦æœ‰ä»»ä½•ä¸€ä¸ªObservableæœ‰æ•°æ®ä¸‹æ¥ï¼Œé‚£ä¹ˆmergeå°±åå‡ºä¸€æ¬¡æ•°æ®ï¼Œå°†å…¶è½¬äº¤ä¸‹æ¸¸â€
 *  å¦‚ä¸‹é¢ä¾‹å­çš„å¼¹ç å›¾
 *  i1: --0--1--2...->
 *  i1Map: --0A--1A--2A...->
 * 
 *  i2: ----0----1----2...->
 *  i2Map: ----0B----1B----2B...->
 * 
 *  merge: --0A--(0B & 1A)--2A--(1B & 3A)--4A--(2B & 5A)...->
 * 
 *  - Mergeçš„åŒæ­¥é™æµï¼Œmergeå¯ä»¥æŽ¥æ”¶ä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œç”¨æ¥è¡¨ç¤ºåˆå¹¶çš„Observableæ•°é‡ï¼Œå¦‚ä¸‹ï¼š
 *  o1 = interval(500).take(3)
 *  o2 = interval(600)
 *  o3 = interval(800)
 *  source$ = o1.pipe(merge(o2, o3, 2))
 *  æˆ‘ä»¬æŒ‡å®šåˆå¹¶æ•°é‡ä¸º2ï¼Œæ­¤æ—¶o3å°†ä¸ä¼šå¾—åˆ°è¿›å…¥mergeçš„æœºä¼šï¼Œåªæœ‰å½“o1çš„æ•°æ®æµå¤„ç†ç»“æŸåŽï¼Œæ‰ä¼šè½®åˆ°o3
 * 
 *  - åº”ç”¨åœºæ™¯ï¼šå¦‚è®¸å¤šäº‹ä»¶å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªå¤„ç†å‡½æ•°çš„æƒ…å†µï¼Œæ¯”å¦‚DOMçš„touchendä¸Žclickäº‹ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥
 *  merge(
 *    fromEvent(element, 'click'),
 *    fromEvent(element, 'touchend')
 *  ).subscribe(handler)
 *  è¿™æ ·æ— è®ºè§¦å‘çš„æ˜¯å“ªä¸ªæˆ‘ä»¬éƒ½ä½¿ç”¨åŒä¸€ä¸ªæ–¹æ³•æ¥å¤„ç†äº†ã€‚
 */
var oaMerge$ = merge(
  interval(500).pipe(map(v => v + 'A')),
  interval(1000).pipe(map(v => v + 'B'))
)
// oaMerge$.subscribe(outilObserver)

/**
 * 3ã€Zipï¼šé¡¾åæ€ä¹‰ï¼Œå°±åƒæ‹‰é“¾ä¸€æ ·è¿›è¡Œç»„åˆï¼Œä¸€å¯¹ä¸€å¯¹çš„å¡åˆä½ã€‚åœ¨å¼‚æ­¥æ•°æ®æµçš„æƒ…å†µä¸‹ï¼ŒzipæŽ¥æ”¶åˆ°ä¸€ä¸ªæ•°æ®è€Œå¦ä¸€ä¸ªæ•°æ®è¿˜æœªå‡ºçŽ°æ—¶ï¼Œä¼šè¿›è¡Œç­‰å¾…ï¼Œç­‰åˆ°å…¶å‡ºçŽ°åŽå†è¿›è¡Œç»„åˆ
 * ä¾‹å¦‚ä¸‹é¢çš„ï¼š
 * of: (1, xzx, 2)|->
 * interval: ----Zip----Zip----Zip...->
 * Zip: ----[1, Zip]----[xzx, Zip]----[2, Zip]|->
 * 
 * Zipä¹Ÿæ”¯æŒå¤šæ¡Observableçš„åˆå¹¶ï¼Œä»–çš„æ•°é‡å°±åƒæœ¨æ¡¶çŸ­æ¿ç†è®ºä¸€æ ·ç”±æœ€çŸ­çš„æ¿å­ï¼ˆæœ€çŸ­çš„Observableå†³å®šï¼‰
 */
var oaZip$ = zip(
  oaOf$,
  interval(1000).pipe(map(v => 'Zip'))
)
// oaZip$.subscribe(outilObserver)

/**
 * 4ã€combineLatestï¼šå°†å„ä¸ªObservableçš„æœ€åŽçš„å€¼åˆå¹¶æˆä¸€ä¸ªï¼ŒæŽ¥æ”¶å¤šä¸ªå‚æ•°ï¼Œå‰é¢n-1ä¸ªä¸ºObservableï¼Œæœ€åŽä¸€ä¸ªå‚æ•°ä¸ºcallbackï¼Œcallbackå‚æ•°æ•°é‡ç­‰äºŽæ‰€éœ€è¦åˆå¹¶çš„Observableæ•°é‡
 *      ðŸ‘€ï¼šå…¶åŽŸåˆ™ä¸ºï¼Œå¿…é¡»ç­‰åˆ°å¾…åˆå¹¶çš„æ‰€æœ‰Observableéƒ½æœ‰å€¼é€å‡ºçš„æ—¶å€™æ‰ä¼šè°ƒç”¨callbackæ¥åå‡ºå€¼
 *      ðŸ‚ï¼šé€‚åˆå¤šå› å­ç»“æžœè¿ç®—ï¼Œæ¯ä¸ªå› å­éƒ½ä¼šæ—¶æ—¶å˜åŒ–ï¼Œé€šè¿‡combineLatestï¼Œç¡®ä¿æˆ‘ä»¬èƒ½å¤Ÿæ¯æ¬¡å¾—åˆ°æœ€æ–°ç»“æžœ
 * 
 * å¦‚ä¸‹çš„æ­¥éª¤å›¾ä¸ºï¼š
 * 1âƒ£ï¸ï¼šo2åå‡º0ï¼Œæ­¤æ—¶o1è¿˜æ²¡åå‡ºè¿‡å€¼ï¼Œä¸æ‰§è¡Œcallback
 * 2âƒ£ï¸ï¼šo1åå‡º0ï¼Œo2æœ€åŽåå‡ºå€¼ä¸º0ï¼Œ --> 0
 * 3âƒ£ï¸ï¼šï¼ˆåŒæ—¶ï¼‰o2åå‡º1ï¼Œo1æœ€åŽå€¼ä¸º0ï¼Œ --> 1
 * 4âƒ£ï¸ï¼šo2åå‡º2ï¼Œo1æœ€åŽå€¼ä¸º0ï¼Œ --> 2
 * 5âƒ£ï¸ï¼šo1åå‡º1ï¼Œo2æœ€åŽå€¼ä¸º2ï¼Œ --> 3
 * 6âƒ£ï¸ï¼šï¼ˆåŒæ—¶ï¼‰o2åå‡º3ï¼Œo1æœ€åŽå€¼ä¸º1ï¼Œ --> 4
 * 7âƒ£ï¸ï¼šo1åå‡º2ï¼Œo2æœ€åŽä¸º3ï¼Œ --> 5
 * 8âƒ£ï¸ï¼šo1åå‡º3ï¼Œo2æœ€åŽä¸º3ï¼Œ --> 6
 * 
 * å¼¹ç å›¾ï¼š
 * å¦‚               ----0----1----2----3|
 *                  --0--1--2--3|
 * combineLatest:   ----(0+0=0)(0+1=1)--(0+2=2)--(1+2=3)(1+3=4)----(2+3=5)----(3+3=6)|
 * 
 * - CombineLatestä¼šåœ¨æ‰€æœ‰OBservableéƒ½å®Œç»“åŽæ‰ä¼šå®Œç»“
 * - å†è¿›è¡ŒåŒæ­¥Observableæ—¶ï¼Œå°†ä¼šæå–ç¬¬ä¸€ä¸ªObservableçš„æœ€åŽå€¼ä¸Žå…¶ä»–Observableçš„å€¼è¿›è¡Œç»„åˆ
 *    è¿™æ˜¯å› ä¸ºCombineä¼šé¡ºåºè®¢é˜…æ‰€æœ‰ä¸Šæ¸¸Observableï¼Œä½†åœ¨å®ƒè®¢é˜…ç¬¬ä¸€ä¸ªObservableæ—¶ï¼ˆO1ï¼‰ï¼ŒO1å°±å·²ç»åå‡ºäº†å…¨éƒ¨æ•°æ®äº†ï¼Œæ‰€ä»¥å†è®¢é˜…åŽé¢çš„Oæ—¶ï¼Œå°±å°†è§¦å‘åˆå¹¶åå‡ºæœºåˆ¶ï¼ˆåªæœ‰ä¸¤ä¸ªOçš„æƒ…å†µä¸‹ï¼Œnä¸ªOçš„è¯å°†ä¼šå–å‰n-1ä¸ªOçš„æœ€æœ«å°¾å€¼ï¼Œä¸Žç¬¬nä¸ªOçš„æ‰€æœ‰å€¼åŒ¹é…ï¼‰
 * 
 * - å°ç¼ºé™·ï¼ˆglitchï¼‰ï¼šå½“å‡ºçŽ°å¤šé‡ä¾èµ–é—®é¢˜æ—¶
 *    å¦‚ï¼Œä¸¤ä¸ªOå…¶å®žæ˜¯ä¾èµ–äºŽåŒä¸€ä¸ªOçš„ï¼Œ
 *    egï¼šO = interval(1000); O1 = O.map(v => v + 'a'); O2 = O.map(v => v + 'b')
 *      combineLatest(O1, O2)
 *    æ­¤æ—¶å°†ä¼šå¾—åˆ°ï¼š[0a, 0b], [1a, 0b], [1a, 1b]......
 *    è¿™é‡Œå°±æœ‰ä¸€ä¸ªé—®é¢˜åœ¨FRPçš„åŽŸæ—¨å®šä¹‰ä¸Šï¼Œè¿™ç§ä¾èµ–äºŽåŒä¸€ä¸ªOçš„æƒ…å†µï¼Œåå‡ºå€¼åº”è¯¥åªå’ŒOæœ‰å…³ï¼Œä¸åº”è¯¥å‡ºçŽ°ä»¥ä¸Šçš„æƒ…å†µï¼Œåº”è¯¥æ˜¯
 *       [0a, 0b],[1a, 1b]...
 *    é¢å¯¹è¿™ä¸ªé—®é¢˜æˆ‘ä»¬ä½¿ç”¨withLastestFromå°±èƒ½å¾—åˆ°ä¸Šé¢çš„è¾“å‡º
 */
var oaCombineLatest = combineLatest(interval(1000), interval(500), (o1, o2) => `o1: ${o1} -- o2: ${o2}`)
// oaCombineLatest.subscribe(outilObserver)

/**
 * 5ã€withLastestFromï¼šåŠŸèƒ½ç±»ä¼¼äºŽä»–çš„å…„å¼ŸcombineLastestï¼Œä½†æ˜¯â¤ å®ƒç»™ä¸‹æ¸¸æŽ¨é€æ•°æ®åªèƒ½ç”±ä¸€ä¸ªä¸Šæ¸¸Observableæ¥æŽ§åˆ¶ï¼ˆè°ƒç”¨withLastestFromæ“ä½œç¬¦çš„å®žä¾‹ï¼‰ â¤
 *    æ‰€ä»¥å®ƒä¹Ÿåªæœ‰å®žä¾‹åŒ–æ“ä½œç¬¦ï¼Œè°ƒç”¨è€…å†³å®šæ˜¯å¦åå‡ºæ•°æ®ï¼Œå‚æ•°åªè´Ÿè´£è´¡çŒ®æ•°æ®äº†ã€‚
 *  
 *  å¦‚ä¸‹é¢çš„æ“ä½œï¼Œå°†åå‡º 101ï¼Œ203ï¼Œ305...
 *  å¼¹ç å›¾ï¼š O1$: 0----100----200----...
 *          O2$: -0--1--2--3--4--5--...
 * 
 *    è§£æžï¼š
 *      â‘  O1åå‡º0æ—¶ï¼ŒO2è¿˜æ²¡æ•°æ®ï¼Œæ‰€ä»¥å¹¶æœªè§¦å‘Project
 *      â‘¡ O2åå‡º0ï¼Œä½†æ˜¯O2æ²¡æœ‰æŽ§åˆ¶æƒï¼Œæ‰€ä»¥ä¹Ÿæ²¡è§¦å‘projectåå‡ºæ•°æ®
 *      â‘¢ O2åå‡º1
 *      â‘£ O1åå‡º100ï¼ŒO2æ­¤æ—¶æœ€åŽçš„å€¼ä¸º1ï¼Œè§¦å‘projectç»„åˆæœª 101
 *      ...
 */
var O1$ = timer(0, 2000).pipe(map(v => v * 100))
var O2$ = timer(500, 1000)
var oaWithLastestFrom = O1$.pipe(withLatestFrom(O2$, (a, b) => a + b))
// oaWithLastestFrom.subscribe(outilObserver)

/**
 * 6ã€raceï¼šé¡¾åæ€ä¹‰ï¼Œç«žé€Ÿï¼å¤šä¸ªObservableåœ¨ä¸€èµ·ï¼Œçœ‹è°æœ€å…ˆäº§ç”Ÿæ•°æ®ï¼Œèƒœè€…é€šåƒï¼Œè´¥è€…å¤±åŽ»æ‰€æœ‰æœºä¼šï¼Œraceå°†ä¼šå…¨ç›˜é‡‡ç”¨èƒœè€…çš„æ•°æ®æµï¼Œé€€è®¢è´¥è€…çš„ã€‚
 *    ä¸‹é¢çš„ä¾‹å­Aæœ€å…ˆåå‡ºæ•°æ®ï¼Œæ‰€ä»¥æœ€ç»ˆç»“æžœå–Aï¼šA0ã€A1ã€A2...
 */
var oaRace = race(timer(0, 2000).pipe(map(v => 'A' + v)), timer(500, 500).pipe(map(v => 'B' + v)), timer(50, 100).pipe(map(v => 'C' + v)))
// oaRace.subscribe(outilObserver)

/**
 * 7ã€startWithï¼šä¹Ÿåªæœ‰å®žä¾‹æ“ä½œç¬¦çš„å½¢å¼ï¼ŒåŠŸèƒ½æ˜¯è®©ä¸€ä¸ªObservableå¯¹è±¡åœ¨è®¢é˜…æ—¶ï¼Œæ€»æ˜¯å…ˆï¼ˆåŒæ­¥ï¼‰åå‡ºæŒ‡å®šçš„è‹¥å¹²ä¸ªæ•°æ® ===> ç­‰äºŽè¯´åŠ å¡žä¸€äº›æ•°æ®åœ¨Observableå‰é¢
 *    ä¸è¶³ä¹‹å¤„æ˜¯ä»–çš„æ‰€æœ‰åŠ å¡žæ•°æ®åªèƒ½æ˜¯åŒæ­¥åå‡ºçš„ï¼Œæƒ³è¦å¼‚æ­¥çš„è¯å’±è¿˜å¾—ç”¨concat
 */
var oaStartWith = interval(1000).pipe(startWith('xzx', 'ldl', 'zyq'))
// oaStartWith.subscribe(outilObserver)

/**
 * 8ã€forkJoinï¼šåªæœ‰é™æ€æ“ä½œç¬¦ã€‚
 *    forkJoinæŽ¥æ”¶å¤šä¸ªObservableï¼Œå½“è¿™äº›Observableå…¨éƒ¨ç»“æŸåŽï¼Œå°†ä»–ä»¬çš„æœ€åŽä¸€ä¸ªå€¼åˆå¹¶å‘é€åˆ°ä¸‹æ¸¸ã€‚
 *    ç±»ä¼¼äºŽRxJSç•Œçš„Promise.all
 * 
 * ä¸‹é¢çš„ä¾‹å­ï¼š
 * interval: --0--1--2--3--4|->
 * timer: --0----1----2----3----4----5|->
 * of: '1' & 'xzx' & '2'|->
 * 
 * forkJoin: ----------------------[4, 5, '2']|->
 */
var oaForkJoin = forkJoin(
  interval(500).pipe(take(5)),
  timer(500, 1000).pipe(take(6)),
  oaOf$
)
// oaForkJoin.subscribe(outilObserver)




//  -------------------------------------------------------------------------------é«˜é˜¶Observable----------------------------------------------------------------------------
/**
 * é«˜é˜¶Observableï¼š
 *    å®šä¹‰ï¼šå³åå‡ºçš„æ•°æ®å†…å®¹ä¾ç„¶æ˜¯Observableçš„Observable
 *    - é«˜é˜¶Observableäº§å‡ºçš„æ•°æ®ä¹Ÿå«â€œå†…éƒ¨Observableâ€ï¼Œå› ä¸ºä»–ä»¬ä¸€èˆ¬ä¹Ÿä¸å±•ç¤ºåœ¨å¤–ã€‚
 *    - é«˜é˜¶Observableçš„å®Œç»“ä¸ä»£è¡¨å…¶å†…éƒ¨Observableçš„å®Œç»“ï¼Œå†…éƒ¨Observableæœ‰ç€è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸã€‚
 * 
 *    æ„ä¹‰ï¼š
 *    - èƒ½å¤Ÿç”¨Observableæ¥ç®¡ç†å¤šä¸ªObservableå¯¹è±¡ã€‚
 *    - å®ƒçš„æœ¬è´¨å°±æ˜¯ç”¨ç®¡ç†æ•°æ®çš„æ–¹å¼æ¥ç®¡ç†å¤šä¸ªObservableå¯¹è±¡ã€‚
 * 
 *    åˆå¹¶ç±»é«˜é˜¶æ“ä½œç¬¦åŠŸèƒ½å„æœ‰å·®å¼‚ï¼Œä½†éƒ½æ˜¯å°†ä¸€ä¸ªé«˜é˜¶Observableçš„å†…éƒ¨Observableç»„åˆèµ·æ¥ï¼Œä¸”æ‰€æœ‰è¿™äº›æ“ä½œç¬¦éƒ½åªæœ‰å®žä¾‹åŒ–æ“ä½œç¬¦çš„å½¢å¼
 */   

 /**
  * 9ã€concatAllï¼šä¸Žconcaté¦–å°¾ç»„åˆçš„åŠŸèƒ½ä¸€æ ·ï¼Œä½†æ˜¯å®ƒåªæœ‰ä¸€ä¸ªä¸Šæ¸¸Observableæ˜¯ä¸€ä¸ªé«˜é˜¶Observable
  *   
  * ä¸‹é¢çš„ä¾‹å­ï¼Œå¯¹interval(1000)ï¼Œä¾æ¬¡ä½¿ç”¨ä¸‰ä¸ªå®žä¾‹æ“ä½œç¬¦ï¼š
  *    - take(2)ï¼šå–å‰ä¸¤æ¬¡çš„å€¼ï¼š0,1
  *    - mapï¼šè½¬åŒ–å€¼ä¸ºäº§ç”Ÿä¸€ä¸ªæ–°çš„Observable -> interval(500) ==> å¹¶å¯¹è¯¥å†…éƒ¨Observableè¿‡æ»¤æ“ä½œï¼Œåªå–å‰ä¸‰ä¸ªå€¼0,1,2ï¼Œå¹¶å°†å€¼è½¬åŒ–ä¸º x : yå½¢å¼ã€‚
  *    - concatAallï¼šå³ç»„åˆå†…éƒ¨Observableï¼Œä¸”concatAllä¸ºé¦–å°¾ç»„åˆï¼Œæ‰€ä»¥ä¼šå…ˆè®¢é˜…ç¬¬ä¸€ä¸ªå†…éƒ¨Observableå³0:0, 0:1, 0:2ï¼Œå†è®¢é˜…ç¬¬äºŒä¸ªå†…éƒ¨Observable
  * 
  *   é«˜é˜¶Oï¼š ----O1----O2|->
  *               |     |
  *   O1          --0:0--0:1--0:2|->
  *                     |
  *   O2                --1:0--1:1--1:2|->
  *concatAll:------0:0--0:1--0:2--1:0--1:1--1:2|->
  *  
  * é«˜é˜¶Observableæ•°æ®ç§¯åŽ‹é—®é¢˜ï¼š
  *     åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œèƒ½å¤Ÿçœ‹åˆ°é«˜é˜¶Observableä»¥1sä¸€ä¸ªçš„æ—¶é—´é—´éš”æ¥äº§ç”ŸObservableï¼Œè€Œå†…éƒ¨Observableäº§ç”Ÿå®Œæ•´çš„å¯¹è±¡éœ€è¦1.5sï¼Œ
  *     è¿™æ ·æˆ‘ä»¬concatAllå¯¹äºŽå†…éƒ¨Observableçš„æ¶ˆåŒ–é€Ÿåº¦å°†è¿½ä¸ä¸Šå¤–éƒ¨çš„é«˜é˜¶Observableäº§ç”Ÿå†…éƒ¨Observableçš„é€Ÿåº¦ï¼Œåœ¨æœ¬ä¾‹ä¸­æˆ‘ä»¬ä½¿ç”¨äº†takeæ¥è¿‡æ»¤å‡ºä¸¤ä¸ªå¹¶æœªå‡ºçŽ°é—®é¢˜
  *     ä½†å½“å†…éƒ¨Observableçš„æ•°é‡è¶Šæ¥è¶Šå¤šæ—¶ï¼Œå°†ä¼šäº§ç”ŸObservableçš„ç§¯åŽ‹ï¼ˆæ¶ˆè€—é€Ÿåº¦ä½ŽäºŽç”Ÿäº§é€Ÿåº¦ï¼‰ï¼Œå¦‚æ­¤å°†ä¼šå¯¼è‡´å‡ºçŽ°å†…å­˜æº¢å‡ºé—®é¢˜memory leak
  */
var oaConcatAll$ = interval(1000).pipe(take(2), map(x => interval(500).pipe(take(3), map(y => x + ':' + y))), concatAll())
// oaConcatAll$.subscribe(outilObserver)

/**
 * 10ã€mergeAllï¼šå…ˆåˆ°å…ˆå¾—å¤„ç†å†…éƒ¨Observableï¼ŒmergeAllåªè¦å‘çŽ°ä¸Šæ¸¸é«˜é˜¶Observableäº§ç”Ÿä¸€ä¸ªå†…éƒ¨Observableå°±ä¼šç«‹åˆ»è®¢é˜…è¿™ä¸ªå†…éƒ¨Observableï¼Œè€Œä¸åƒconcatAllä¸€æ ·éœ€è¦ç­‰å¾…ä¸Šä¸€ä¸ªå†…éƒ¨Observableçš„æ¶ˆåŒ–å®Œç»“
 * 
 * é«˜é˜¶Oï¼š ----O1----O2|->
 *             |     |
 *   O1        --0:0--0:1--0:2|->
 *                   |
 *   O2              --1:0--1:1--1:2|->
 * Merge: ------0:0--0:1--1:0 & 0:2--1:1--1:2|->
 * 
 * - Tipsï¼šè¿™é‡Œæˆ‘ä»¬èƒ½å¤Ÿè§‚æµ‹åˆ°ä¸€ä¸ªæœ‰è¶£çš„çŽ°è±¡ï¼ŒO1çš„æ•°æ®[0:2]ä¸ŽO2çš„æ•°æ®[1:0]æ˜¯åŒä¸€æ—¶é—´è¢«åå‡ºçš„ï¼Œä½†MergeAllé€‰æ‹©å…ˆå°†[1:0]åå‡ºï¼Œå†å°†[0:2]åå‡ºï¼Œ
 * å¦‚æ­¤èƒ½å¤ŸçŸ¥é“MergeAllåœ¨å¯¹åŒä¸€æ—¶é—´åå‡ºæ•°æ®å¤„ç†æ˜¯ï¼Œä»¥æœ€è¿‘è®¢é˜…çš„å†…éƒ¨Observableä¸ºä¼˜å…ˆï¼
 */
var oaMergeAll$ = interval(1000).pipe(take(2), map(x => interval(500).pipe(take(3), map(y => x + ':' + y + '+' + Date.now()))), mergeAll())
// oaMergeAll$.subscribe(outilObserver)

/**
 * 11ã€zipAllï¼šå°±æ‹‰é“¾ä¸€æ ·æˆå¯¹åˆå¹¶å°±å®Œäº†
 * 
 * ----------[ '0:0+1589701648782', '1:0+1589701648782' ]--[ '0:1+1589701649286', '1:1+1589701649286' ]--[ '0:1+1589701649286', '1:1+1589701649286' ]
 * ä»Žä¸Šé¢çš„å¼¹ç å›¾æˆ‘ä»¬èƒ½å¤Ÿçœ‹åˆ°ï¼Œä¸€ç»„è¢«ç»„åˆåˆ°ä¸€èµ·çš„æ•°æ®ï¼Œä»–çš„åå‡ºæ—¶é—´æ˜¯ä¸€è‡´çš„ï¼
 * è¿™å°±å¾ˆå¥‡æ€ªï¼Œå› ä¸ºå…¶å†…éƒ¨Observableå¹¶éžæ˜¯åŒä¸€æ—¶é—´åˆ›å»ºçš„ã€‚
 * æ‰€ä»¥è¿™å°±æ˜¯ZipAllçš„ç‰¹æ€§ï¼Œä»–ä¼šç­‰åˆ°ä¸Šæ¸¸Observableåå‡ºæ‰€æœ‰çš„å†…éƒ¨Observableæ‰ä¼šå¼€å§‹ä»–çš„ä¸€ä¸€é…å¯¹å·¥ä½œå·¥ä½œï¼Œ
 * å¦‚æ­¤å¯¹äºŽzipAllæ¥è¯´ï¼Œä»–å…¶å®žæ˜¯åœ¨åŒä¸€æ—¶é—´å¯¹ä¸Šé¢çš„ä¸¤ä¸ªå†…éƒ¨Observableè¿›è¡Œè®¢é˜…çš„ï¼Œæ‰€ä»¥å‡ºçŽ°äº†å…¶æ—¶é—´ä¸€è‡´çš„çŽ°è±¡ã€‚
 */
var oaZipAll$ = interval(1000).pipe(take(2), map(x => interval(500).pipe(take(3), map(y => x + ':' + y + '+' + Date.now()))), zipAll())
// oaZipAll$.subscribe(outilObserver)

/**
 * 12ã€combineAllï¼šè·ŸzipAllä¸€æ ·åªæœ‰ä¸Šæ¸¸çš„é«˜é˜¶Observableå®Œç»“äº†æ‰ä¼šå¼€å§‹å·¥ä½œçš„ï¼Œå¹¶å¯¹åå‡ºå€¼è¿›è¡Œæœ€åŽä¸€ä¸ªå€¼ï¼ˆæœ€è¿‘åå‡ºçš„å€¼ï¼‰çš„åˆå¹¶
 */
var oaCombineAll$ = interval(1000).pipe(take(2), map(x => interval(500).pipe(take(3), map(y => x + ':' + y + '+' + Date.now()))), combineAll())
// oaCombineAll$.subscribe(outilObserver)

/**
 * 13ã€switchAllï¼šå–œæ–°åŽŒæ—§æ“ä½œç¬¦ã€‚å®ƒæ€»æ˜¯ä¼šåˆ‡æ¢åˆ°â€œæœ€æ–°çš„â€å†…éƒ¨Observableï¼Œæ¯å½“ä¸Šæ¸¸é«˜é˜¶Observableåå‡ºä¸€ä¸ªæ–°çš„å†…éƒ¨Observableï¼Œswitchå°±ä¼šæŠ›å¼ƒï¼ˆé€€è®¢ï¼‰ä¸Šä¸€ä¸ªæ—§çš„å†…éƒ¨Observableï¼Œè€Œè®¢é˜…è¿™ä¸ªæ–°çš„å†…éƒ¨Observable
 * é«˜é˜¶Oï¼š ----O1----O2|->
 *             |     |
 *   O1        --0:0--0:1--0:2|->
 *                   |
 *   O2              --1:0--1:1--1:2|->
 * switch:------0:0--1:0ï¼ˆè¿™é‡Œåœ¨8ä¸ª - åŽé«˜é˜¶Oåå‡ºäº†O2ï¼Œæ‰€ä»¥ç«‹åˆ»é€€è®¢äº†O1ï¼Œè€Œè®¢é˜…O2ï¼‰--1:1--1:2|->
 * 
 * æ‰€ä»¥ï¼Œæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„åŒºåˆ†çš„æ˜¯ï¼ŒswitchAllå¯¹æ—§çš„è¿›è¡Œé€€è®¢æ—¶é—´æ˜¯æ–°çš„å†…éƒ¨Oå‡ºçŽ°çš„æ—¶é—´ï¼Œè€Œä¸æ˜¯æ–°çš„å†…éƒ¨Oå¼€å§‹åå‡ºæ•°æ®çš„æ—¶é—´å“¦ï¼
 * - å¯¹äºŽswitchAllçš„å®Œç»“æœ‰ä¸¤ä¸ªæ¡ä»¶ï¼š
 *  - é«˜é˜¶Observableå®Œç»“
 *  - å†…éƒ¨Observableå®Œç»“
 */
var oaSwtich$ = interval(1000).pipe(take(2), map(x => interval(500).pipe(take(3), map(y => x + ':' + y + '+' + Date.now()))), switchAll())
// oaSwtich$.subscribe(outilObserver)

/**
 * 14ã€exhaustï¼šè€—å°½ï¼ä»–çš„åŠŸèƒ½å³å…¶æ„æ€ï¼Œåœ¨è€—å°½ä¸Šä¸€ä¸ªå†…éƒ¨Observableä¹‹å‰ä¸ä¼šåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªObservableï¼ˆä¸”å¦‚æžœä¸‹ä¸€ä¸ªObservableçš„å‡ºçŽ°æ—¶ï¼Œä¸Šä¸€ä¸ªè¢«è®¢é˜…çš„å†…éƒ¨Observableè¿˜æ²¡å®Œç»“ï¼Œé‚£ä¹ˆå®ƒå°†è¢«èˆå¼ƒï¼‰ï¼
 * é«˜é˜¶Oï¼š ----O1----O2|->
 *             |     |
 *   O1        --0:0--0:1--0:2|->
 *                   |(è¿™é‡ŒO2å‡ºçŽ°äº†ï¼Œä½†æ˜¯ç”±äºŽO1ä»ç„¶æœªç»“æŸï¼Œæ‰€ä»¥O2è¢«èˆå¼ƒäº†ï¼)
 *   O2              --1:0--1:1--1:2|->
 * exhaust:------0:0--0:1--0:2|->
 */
var oaExhaust$ = interval(1000).pipe(take(2), map(x => interval(500).pipe(take(3), map(y => x + ':' + y + '+' + Date.now()))), exhaust())
// oaExhaust$.subscribe(outilObserver)

